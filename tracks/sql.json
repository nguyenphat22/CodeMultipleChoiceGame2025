{
  "id": "sql",
  "title": "SQL",
  "description": "Cú pháp, JOIN, NULL, GROUP BY, Window, ACID…",
  "challenges": [
    {
      "type": "mcq",
      "title": "Câu lệnh SELECT DISTINCT có tác dụng gì?",
      "code": "SELECT DISTINCT city FROM users;",
      "options": ["Loại trùng", "Sắp xếp", "Nhóm", "Gom chuỗi"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Kết quả của LEFT JOIN là gì?",
      "code": "users LEFT JOIN orders",
      "options": ["Tất cả users, kể cả không có orders", "Chỉ có bản ghi khớp", "Tất cả orders", "Không bản ghi nào"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Ta dùng HAVING trong trường hợp nào?",
      "code": "Khi nào dùng HAVING?",
      "options": ["Lọc sau GROUP BY", "Lọc trước GROUP BY", "Thay thế WHERE", "Chỉ cho ORDER BY"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Kết quả của phép so sánh NULL = NULL là gì?",
      "code": "NULL = NULL",
      "options": ["UNKNOWN (không true)", "true", "false", "Tuỳ hệ quản trị"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Hàm COUNT(col) bỏ qua giá trị nào?",
      "code": "COUNT(*) vs COUNT(col)",
      "options": ["NULL", "0", "''", "Cả 3"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Chỉ mục (Index) trong SQL giúp ích cho điều gì?",
      "code": "SELECT ... WHERE col = ?",
      "options": ["Tăng tốc tìm kiếm", "Nén dữ liệu", "Khoá bảng", "Sao lưu dữ liệu"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Sự khác nhau giữa UNION và UNION ALL là gì?",
      "code": "Khác biệt chính?",
      "options": ["UNION loại trùng", "UNION ALL loại trùng", "Cả hai loại trùng", "Không khác biệt"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "ROW_NUMBER() OVER(PARTITION BY dept ORDER BY salary DESC) sẽ làm gì?",
      "code": "Window function",
      "options": ["Đánh số trong từng nhóm dept", "Đánh số toàn bảng", "Đếm số dòng", "Tạo khoá chính"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Khi nào dùng EXISTS thay vì IN trong subquery?",
      "code": "Subquery: IN vs EXISTS",
      "options": ["Khi chỉ cần biết có tồn tại", "Khi cần toàn bộ dữ liệu", "Khi không có index", "Không bao giờ"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Điểm khác biệt giữa PRIMARY KEY và UNIQUE là gì?",
      "code": "PRIMARY KEY vs UNIQUE",
      "options": ["PK không NULL, UNIQUE cho phép 1+ NULL", "Cả hai không NULL", "UNIQUE không index", "PK có thể nhiều NULL"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Tùy chọn ON DELETE CASCADE trong khoá ngoại có tác dụng gì?",
      "code": "FK ON DELETE CASCADE",
      "options": ["Xoá child liên quan", "Khoá xoá", "Không ảnh hưởng", "Đổi khoá child"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Câu lệnh GROUP BY sau đây có hợp lệ không?",
      "code": "SELECT dept, SUM(salary) FROM t GROUP BY dept;",
      "options": ["Hợp lệ", "Sai vì thiếu WHERE", "Sai vì thiếu HAVING", "Sai vì thiếu ORDER BY"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Trong window function, ORDER BY trong OVER() có ý nghĩa gì?",
      "code": "OVER(ORDER BY id)",
      "options": ["Sắp theo id trong cửa sổ", "Sắp toàn bảng bắt buộc", "Luôn vô hiệu", "Chỉ cho SUM"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Chuẩn hoá mức 3NF nhằm mục đích gì?",
      "code": "Chuẩn hoá 3NF",
      "options": ["Loại phụ thuộc bắc cầu", "Loại tất cả phụ thuộc", "Loại khoá ngoại", "Chỉ chuẩn hoá tên cột"],
      "answer": 0
    },
    {
      "type": "mcq",
      "title": "Trong ACID, chữ I đại diện cho gì?",
      "code": "ACID của giao dịch",
      "options": ["Isolation", "Integrity", "Indexing", "Interval"],
      "answer": 0
    },
    {
  "type": "mcq",
  "title": "Câu lệnh TRUNCATE có thể được ROLLBACK giống như DELETE.",
  "code": "TRUNCATE TABLE users;",
  "options": ["Đúng", "Sai"],
  "answer": 1
},
{
  "type": "mcq",
  "title": "Một bảng có thể có nhiều PRIMARY KEY cùng lúc.",
  "code": "PRIMARY KEY (id, email, ...)",
  "options": ["Đúng", "Sai"],
  "answer": 1
},
{
  "type": "mcq",
  "title": "Hàm COUNT(*) sẽ đếm cả các dòng có giá trị NULL.",
  "code": "SELECT COUNT(*) FROM users;",
  "options": ["Đúng", "Sai"],
  "answer": 0
},
{
  "type": "mcq",
  "title": "INNER JOIN chỉ trả về các bản ghi khớp giữa hai bảng.",
  "code": "SELECT * FROM users INNER JOIN orders ON ...",
  "options": ["Đúng", "Sai"],
  "answer": 0
},
{
  "type": "mcq",
  "title": "Mệnh đề WHERE được thực thi sau GROUP BY.",
  "code": "SELECT dept, COUNT(*) FROM t WHERE salary > 1000 GROUP BY dept;",
  "options": ["Đúng", "Sai"],
  "answer": 1
}

  ]
}
